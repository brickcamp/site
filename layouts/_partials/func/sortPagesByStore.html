{{- $pages := index . 0 -}}
{{- $field := index . 1 -}}
{{- $order := index . 2 | default "asc" -}}

{{- $map := slice -}}
{{- range $pages -}}
  {{- $vals := partial "func/getPageValues" . -}}
  {{- $map = $map | append (dict "weight" (index $vals $field) "page" .) -}}
{{- end -}}

{{- $result := slice -}}
{{- range sort $map "weight" $order -}}
  {{- $result = $result | append .page -}}
{{- end -}}
{{- return $result -}}